    

    Инструкция по запуску


    На момент работы над проектом, в ТЗ указано развернуть на сервере, по этому на момент написания мной этой инструкции подразумевается что проект уже запущен по адресу "вставить сюда потом адрес". Однако если вы смотрите это в моем портфолио через несколько месяцев после публикации (я планирую это добавить в свое портфолио в любом случае, обидно если мои труды пропадут просто так), то скорее всего я уже снял его с сервера, и необходиом запустить вручную. В этом случае, в начале нужно создать файл .env, в который положить STRIPE_SECRET_KEY_USD, STRIPE_PUBLIC_KEY_USD, STRIPE_SECRET_KEY_EUR, STRIPE_PUBLIC_KEY_EUR. в проекте настроен докер, все уже прописано, по этому для запуска достаточно открыть папку с проектом в консоли через cd, запустить докер, ввести команду "docker-compose up --build", и в новом терминале примнеить миграции через команду "docker-compose exec web python manage.py migrate". После этого проект будет запущен по адресу "http://127.0.0.1:8000/".


    Инструкция по эксплуатации


    Несмотря на наличие menu, ниже я привел все адреса по которым можно перейти в данном проекте (ну или можно просто открыть файл urls и посмотреть там)

    item/<id>/ - все предметы для покупки. вместо <id> нужно указать номер предмета.
    buy/<id>/ - json для Stripe Session. Для пользователя не нужен.
    order/<id>/ - все order котоыре есть. Являются савокупностью нескольких (или одного) item.
    order/buy/<id>/ - json для Stripe Session для order. Для пользователя не нужен.
    '' - простенькая менюшка для ориентации в проекте (home page). В целом в ТЗ нет задания её сделать, но она помогает не запутаться, так что я решил сделать. Есть опыт выполнения подобных заданий когда такой менюшки прям очень сильно не хватает. (вообще надо было наверно добавить кнопки "назад", тоже для удобства. Не знаю добавлю я их все же в конце концов, или нет. В ТЗ об этом не говориться, а я прям сильно уже устал.)
    buy-intent/<id>/ - json для Stripe Payment Intent для пользователя не нужен. Как реализован Stripe Payment Intent будет ниже.
    https://checkout.stripe.com/ - ссылка на созданые stripe session, которая открывается при нажатии на buy в order или item.

    При открытия сайта первая страница это самодельное небольшое меню, со ссылками на все item, order и admin понель, для простой ориентации в проекте. В админке можно добавить новые item, order, discounts, taxs, все как указано в тз. Имя: root, пароль: password. Это стандартная панель управления Django admin.

    При переходе на Order пользователю выдается созданый админом Order, список item в этом order, и кнопка buy. При нажатии на buy пользователя перекидывает на https://checkout.stripe.com/, где находится stripe session. Налоги и скидка учиывается в цене, в соответствии с ТЗ. Оплата возможно в 2 вдиах волюты, в соответствии с заданием.

    При переходе на item, пользователю выдается выбраный им item, с описанием и кнопками Buy и Pay with card. Buy это то же самое stripe session как и для order, а Pay with card это реализованный Stripe Payment Intent. При вводе номера карты, даты, CVC и Индекса нужно нажать Pay with card. Для тестового номера можно использовать стандартный тестовый номер карты 4242 4242 4242 4242. Дата, индекс и CVC можно указывать любые.
